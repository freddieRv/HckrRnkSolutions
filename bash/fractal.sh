#!/usr/bin/bash

# Params: segment_size, num_cols
generateY () {
    if [[ $# -lt 2 ]]; then
        return 1
    fi

    segment_size="$1"
    num_cols="$2"
    middpoint=$(( ($num_cols / 2) - 1 ))

    distance=$(( $segment_size * 2 ))
    for (( j = 0; j < $segment_size; j++ )); do
        line=""
        left_pos=$(( $middpoint - ($distance / 2) ))
        right_pos=$(( $middpoint + ($distance / 2) ))

        for (( i = 0; i < $num_cols; i++ )); do
            if (( $i == $right_pos || $i ==$left_pos )); then
                line="${line}1"
            else
                line="${line}_"
            fi
        done

        distance=$(( $distance - 2 ))
        echo $line
    done

    for (( j = 0; j < $segment_size; j++ )); do

        line=""

        for (( i = 0; i < $num_cols; i++ )); do
            if (( $i == $middpoint )); then
                line="${line}1"
            else
                line="${line}_"
            fi
        done

        echo $line
    done

}

# read N

N=5
cols=100
init_segment_size=16

for (( h = 0; h < $N; h++ )); do

    num_cols_main=$(( $cols / (2 ** ($N - $h - 1)) ))
    segment_size_main=$(( $init_segment_size / (2 ** ($N - $h - 1)) ))

    # echo "$num_cols_main $segment_size_main"

    generateY $segment_size_main $num_cols_main

done

# (($num_cols / 2) - 1) - $segment_size - first position of left arm
# (($num_cols / 2) - 1) + $segment_size - first position of right arm

# Total of "1"s on first row is 2^N
# 63 rows by 100 cols
# 16 rows initial length of both segments of Y (vertical and slantig)

# 2, 4, 8, 16, 32

# ____________________________________________________________________________________________________
# __________________1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1_1___________________
# ___________________1___1___1___1___1___1___1___1___1___1___1___1___1___1___1___1____________________
# ___________________1___1___1___1___1___1___1___1___1___1___1___1___1___1___1___1____________________
# ____________________1_1_____1_1_____1_1_____1_1_____1_1_____1_1_____1_1_____1_1_____________________
# _____________________1_______1_______1_______1_______1_______1_______1_______1______________________
# _____________________1_______1_______1_______1_______1_______1_______1_______1______________________
# _____________________1_______1_______1_______1_______1_______1_______1_______1______________________
# ______________________1_____1_________1_____1_________1_____1_________1_____1_______________________
# _______________________1___1___________1___1___________1___1___________1___1________________________
# ________________________1_1_____________1_1_____________1_1_____________1_1_________________________
# _________________________1_______________1_______________1_______________1__________________________
# _________________________1_______________1_______________1_______________1__________________________
# _________________________1_______________1_______________1_______________1__________________________
# _________________________1_______________1_______________1_______________1__________________________
# _________________________1_______________1_______________1_______________1__________________________
# __________________________1_____________1_________________1_____________1___________________________
# ___________________________1___________1___________________1___________1____________________________
# ____________________________1_________1_____________________1_________1_____________________________
# _____________________________1_______1_______________________1_______1______________________________
# ______________________________1_____1_________________________1_____1_______________________________
# _______________________________1___1___________________________1___1________________________________
# ________________________________1_1_____________________________1_1_________________________________
# _________________________________1_______________________________1__________________________________
# _________________________________1_______________________________1__________________________________
# _________________________________1_______________________________1__________________________________
# _________________________________1_______________________________1__________________________________
# _________________________________1_______________________________1__________________________________
# _________________________________1_______________________________1__________________________________
# _________________________________1_______________________________1__________________________________
# _________________________________1_______________________________1__________________________________
# _________________________________1_______________________________1__________________________________
# __________________________________1_____________________________1___________________________________
# ___________________________________1___________________________1____________________________________
# ____________________________________1_________________________1_____________________________________
# _____________________________________1_______________________1______________________________________
# ______________________________________1_____________________1_______________________________________
# _______________________________________1___________________1________________________________________
# ________________________________________1_________________1_________________________________________
# _________________________________________1_______________1__________________________________________
# __________________________________________1_____________1___________________________________________
# ___________________________________________1___________1____________________________________________
# ____________________________________________1_________1_____________________________________________
# _____________________________________________1_______1______________________________________________
# ______________________________________________1_____1_______________________________________________
# _______________________________________________1___1________________________________________________
# ________________________________________________1_1_________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
# _________________________________________________1__________________________________________________
